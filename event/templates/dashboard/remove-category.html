{% extends "dashboard/dashboard.html" %}
{% block dashboard %}
{% load static %}



<form id="removecat"  action="#removecat" method="GET" >
    <h1  class="font-semibold text-center mb-7">Search by name</h1>

    {% if category_ache == "no" %}
<p id="removecat" class="text-center font-semibold text-red-600 mb-4">No Categories found.</p>
{% elif category_ache == "empty_search" %}
<p id="removecat" class="text-center font-semibold text-red-600 mb-4">Please enter something in the searchbox.</p>
{% endif %}
    
    <div class="flex justify-center items-center mb-20 px-4">
        <div class="search md:mt-0 mt-4 w-full md:w-auto flex gap-2">
            <input class="text-black font-semibold px-2 py-1 outline-none border
            border-rose-700 bg-transparent w-full md:w-auto" name="key" type="search" placeholder="name">
            <button type="submit" class="border border-white bg-rose-800 text-white font-semibold px-2 py-1 rounded-md">Search</button>
        </div>
    </div>
</form>


{% if messages %}
  <div>
    {% for message in messages %}
      <div class="text-center md:w-[500px] md:mx-auto bg-green-500 text-white font-semibold border border-green-300 p-3 rounded mb-4">
        <h1>{{message}}</h1>
      </div>
    {% endfor %}
  </div>
{% endif %}

{% if categories %}
<div id="removecat" class="event-box grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-10 mb-8">
    {% for category in categories %}
    <div class="eb border border-white shadow-lg p-4 shadow-gray-400">
        <h1>Name: {{ category.name }}</h1>
  <form method="POST" action="{% url 'removecategory' %}#removecat">
    {% csrf_token %}
    <input type="hidden" name="category_id" value="{{ category.id }}">
    <button type="submit" class="bg-rose-800 w-full text-white font-semibold px-2 py-1 rounded-md mt-10">Delete</button>
</form>

    </div>
    {% endfor %}
</div>
{% endif %}


{% endblock dashboard %}
